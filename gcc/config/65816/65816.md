; Register constraints (not finalised)
; A -- accumulator reg (also allow XA for [P]SImode)
; x -- X reg
; y -- Y reg
; d -- index regs
; r -- general regs
; D -- direct reg
; S -- stack reg

; Status bit 4 is index register size select, 1: 8-bit, 0: 16-bit.
; Status bit 5 is accumulator/memory size select, 1: 8-bit, 0: 16-bit.

(include "constraints.md")

(define_insn "indirect_jump"
  [(set (pc)
	(match_operand:PSI 0 "register_operand" "A"))]
  ""
  "sep #16\;phx\;rep #16\;pha\;rtl")
